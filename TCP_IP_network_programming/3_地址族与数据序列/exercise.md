## 1. IP 地址族 IPv4 和 IPv6 有何区别？在何种背景下诞生了 IPv6？

IPv4和IPv6都是互联网协议（IP），但它们存在一些主要的区别：

地址长度：IPv4地址是32位的，通常用四个数字（0到255）表示，以点（.）分隔。如192.168.0.1。相反，IPv6是128位的，通常由八组由冒号（:）分隔的16进制数字表示，如2001:0db8:85a3:0000:0000:8a2e:0370:7334。因此，IPv6提供了比IPv4数量级更多的可用地址。

配置：大部分情况下，IPv4需要通过动态主机配置协议（DHCP）或手动配置。IPv6提供了自动配置（无需DHCP）的功能，计算机可以自己生成自己的IP地址。
安全性：IPsec是IPv6的一个内置标准，但对IPv4来说，这是可选的。因此，IPv6比IPv4提供了更好的网络层安全性。

IPv6诞生的主要原因是，互联网的迅速扩大导致IPv4可用地址不足。IPv4的设计初衷并未考虑到未来互联网设备的爆炸性增长，而现在各类互联网设备如智能手机、平板电脑、智能电视等等都需要唯一的IP地址，使得IPv4的地址空间变得捉襟见肘。IPv6则提供了足够的IP地址以满足未来的需求。同时，IPv6也引入了其他的改进，如更简单的地址分配方法和更好的加密特性等等。

## 2. 通过 IPv4 网络 ID，主机 ID，路由器的关系说明向公司局域网中的计算机传输数据的过程？

首先，我们来明确一下什么是网络ID、主机ID以及路由器。

网络ID：这部分标识网络本身，所有在同一网络内的设备的网络ID都是相同的。

主机ID：这部分用来标识同一网络内的特定设备或主机。

路由器：它的主要作用是在多个网络之间路由或传输数据。

当我们通过IPv4向公司局域网中的计算机传输数据时，下面的过程通常会发生：

首先，发送端需要知道接收端计算机的完整IPv4地址，这个地址包括网络ID和主机ID。

发送端的计算机会检查目标IP地址，如果目标IP地址与发送端在同一个网络（网络ID相同），那么数据可以直接通过局域网络发送到目标计算机上。
如果发送端和接收端不在同一个网络中，那么数据就需要通过路由器进行转发。发送端的计算机会将数据包发送到它的默认网关（通常是一个路由器）。

路由器会查看数据包的目标IP地址，然后通过路由表决定应该如何转发数据包，直到数据包到达目标主机所在的网络。

在接收端的网络，路由器会将数据包直接送到目标主机。

所以在整个处理过程中，网络ID帮我们确定了数据包应该去向哪个网络，主机ID帮我们找到了网络内具体的接收设备，而路由器充当了不同网络间传递数据包的角色。

## 3. 套接字地址分为 IP 地址和端口号，为什么需要 IP 地址和端口号？或者说，通过IP可以区分哪些对象？通过端口号可以区分哪些对象？

在套接字通信中，IP地址和端口号是非常重要的两个组成部分，它们各自承担着不同的区分角色。

IP地址是网络中设备的唯一标识，你可以将其理解为你家的邮寄地址。通过IP地址，我们可以区分出网络中的每一个设备（比如某台服务器、某台PC机，甚至是手机等）。在网络通信中，IP地址确保了数据能够正确的发送到目标设备。

然而，我们的计算机并不是只通过网络进行一个任务，而是多个网络应用程序同时进行。这时候光有IP地址还不够，系统无法仅通过IP地址就确定数据应该提供给哪个应用程序，因此我们需要端口号。

端口号可以理解为是你家的门牌号码，它能够帮助我们区分同一设备上的不同网络应用。不同的应用程序会绑定不同的端口号，系统就能通过端口知道哪个应用程序“拥有”接收到的信息。比如，HTTP服务默认使用端口80，HTTPS服务默认使用端口443，SMTP邮件发送服务默认使用端口25等。

简而言之，IP地址可以帮助我们找到正确的设备，而端口号则可以确保数据被送到那台设备上正确的程序。
	
	
## 4. 请说明 IP 地址的分类方法，并据此说出下面这些IP地址的分类

IP地址的第一个字节即可判断网络地址占用的字节数，根据IP地址的边界区分网络地址

A类地址的首字节范围: 0~127, A类地址的首位以0开始
B类地址的首字节范围: 128~191, B类地址的首位以10开始
C类地址的首字节范围: 192~223, C类地址的首位以110开始

214.121.212.102 （C类）
120.101.122.89  （A类）
129.78.102.211  （B类）
	
## 5. 计算机通过路由器或者交换机连接到互联网，请说出路由器和交换机的作用？

路由器 和 交换机 是连接计算机网络的两种重要设备，它们各自有其独特的功能和作用。

首先，我们来谈谈 路由器 的作用：

连接不同的网络：路由器的主要作用是能够将多个网络连接在一起，这些网络可以是局域网也可以是广域网。

路由决策：路由器可以决定数据包的转发路径。这通常是通过查找路由表完成的，这个表内有所有接入路由器的网络的信息。

安全控制：许多路由器内置了防火墙和其他安全功能，可以进行网络访问控制，保护网络安全。

接着，我们来看看 交换机 的作用：

连接网络设备：交换机通常用在局域网里，它可以帮助连接局域网内的各种设备，比如电脑、打印机等。

转发数据帧：交换机主要通过MAC地址（硬件地址）来识别和转发数据。

增强带宽使用：交换机可以实现多台设备并行通信，对网络带宽的利用比较高。

简单来说，路由器更多是在整个网络中实现路径选择和安全控制的角色，而交换机主要在局域网较小范围内实现设备的互联和数据转发。


## 6. 什么是知名端口？其范围是多少？知名端口中具有代表性的 HTTP 和 FTP 端口号各是多少？

知名端口是指被 Internet Assigned Numbers Authority（IANA）分配，用于特定服务的端口号。其范围是在0到1023之间，总共有1024个。这些端口通常被系统进程或特权用户进程使用。

知名端口中的两个最典型、最常见的服务就是HTTP和FTP。它们各自的默认端口号是：

HTTP：80端口。HTTP是HyperText Transfer Protocol的缩写，意为超文本传输协议。当我们在浏览器中访问一个网站时，网站的数据就是通过HTTP协议，通过这个80端口传输的。

FTP：21端口。FTP是File Transfer Protocol的缩写，意为文件传输协议。它主要被用于在网络上进行文件传输，其数据通常都是通过21端口进行传输的。

	
## 7. 向套接字分配地址的bind函数原型如下：

int bind(int sockfd, struct sockaddr *myaddr, socklen_t addrlen);

而调用时候则用

bind(serv_sock, (struct sockaddr*) &serv_addr, sizeof(serv_addr));

此处serv_addr为sockaddr_in 结构体变量，与函数原型不同，传入的是sockaddr_in结构体变量，请说明原因？

在套接字编程中，通常我们会使用struct sockaddr_in结构体来存放地址信息，因为这个结构体方便我们设定和访问IP地址、端口号等信息。然而在调用bind函数时，我们需要强制转换为struct sockaddr*类型。

这是因为bind函数的设计目的是可以处理各种类型的协议，不仅仅是IPv4(对应sockaddr_in结构)。因此，它的参数是一个更为通用的struct sockaddr*类型。而在我们进行具体的编程时，针对IPv4我们会使用sockaddr_in，所以在调用bind函数时，需要将其转换为struct sockaddr*类型。

这就是为什么你在调用时会看到

bind(serv_sock, (struct sockaddr*) &serv_addr, sizeof(serv_addr));

这样的语句。这里使用了C语言的强制类型转换，将struct sockaddr_in*类型转为了struct sockaddr*类型，符合bind函数的参数要求。

## 8. 请解释大端序，小端序、网络字节序，并说明为什么需要网络字节序？

大端序：高位字节存放到低位地址
小端序：高位字节存放到高位地址

网络字节序本质就是大端序，因为如果不统一网络传输数据的顺序，可能造成传输数据无法解析

## 9. 大端序计算机希望把4字节整数型数据12传递到小端序计算机，请说出数据传输过程中发生的字节序变换过程？


## 10. 怎样表示回送地址？其含义是什么？如果向回送地址传输数据将发生什么情况？

回送地址通常表示为 IP 地址 "127.0.0.1"，也就是我们常称的本地回环地址，相应的主机名为 "localhost"。这个地址是特别预留给网络软件测试的，它对应的设备是本机。所有发送到这个地址的数据，网络协议软件立刻返回，不进行任何网络传输。

简单来说，回送地址就是指向本地机器的 IP 地址，用于网络软件进行自我验证和测试。它的存在让主机有了一个特殊的 IP 地址，使得主机可以将信息发送给自己。

如果向回送地址传输数据，数据将直接返回到发送源，而不会真的被送出去到网络上其他设备。网络协议栈会直接收到这份数据，就像它从网络上的其他位置发送到本地一样。因此，这个特性使得我们可以在没有网络或者网络故障的情况下进行网络软件的测试和验证工作。


