## 1. 什么是协议？在收发数据中定义协议有何意义？

协议，简单来说，就是一套通信规则或者约定。它定义了数据的发送和接收方式，包括数据如何被封装，如何被发送，如何被接收，如何被解析等等。在计算机网络中，常见的协议有 TCP/IP 协议，HTTP 协议，FTP 协议等。

定义协议在收发数据中有很重要的意义：

唯一性和可靠性：协议规定了数据传输的格式和规则，使得数据传输有了统一的标准，保证了收发双方能够根据同一套标准进行数据交换，避免了因规则不同而导致的数据传输混乱。

互操作性：有了协议，不同的设备，不同的软件，不同的系统之间可以进行数据交互。只要遵循同一套协议，就能够实现信息的有效传输和接收。

效率：协议定义了数据传输的方式和策略，比如错误检测和纠正，数据压缩，数据流量控制等，能够提高网络的传输效率和数据的准确性。

安全性：一些协议还包含了安全措施，例如数据加密，身份验证等，用以保证数据传输的安全性。

## 2. 面向连接的 TCP 套接字传输特性有 3 点，请分别说明？

面向连接的 TCP套接字传输具有以下三个特性：

可靠性：TCP套接字通过使用确认机制，重传控制，序列号以及错误检测等手段，保证了传输的数据不会丢失，不会重复，不会乱序。这就保证了TCP的数据传输是可靠的。

有序性：基于TCP的数据传输是有序的。序列号和确认响应机制使得TCP能够对数据包进行排序，从而保证了数据在接收端的顺序与发送端的顺序相同。即使在网络中数据包的传输顺序发生了改变，TCP也能够将接收到的数据包重新排序。

流量控制：TCP通过窗口控制机制对发送数据的速度进行控制，以防止接收端被快速发送的数据溢出。通过动态地调整窗口的大小，TCP可以很好的适应网络的带宽和接收端处理能力的变化，防止数据的丢失。

## 3. 下列哪些是面向消息的套接字的特征？ ( ace )

	a. 传输数据可能丢失
	
	b. 没有数据边界(Boundary)
	
	c. 以快速传递为目标
	
	d. 不限制每次传递数据的大小
	
	e. 与面向连接的套接字不同，不存在连接的概念
	
	
## 4. 下列数据适合用哪类套接字传输？并给出原因？

	a. 演唱会现场直播的多媒体数据 （ UDP ）
	
	b. 某人压缩过的文本文件 ( TCP )
	
	c. 网上银行用户和银行之间的数据传递 ( TCP )
	
## 5. 哪种类型的套接字不存在数据边界？这类套接字接收数据时候需要注意什么？

面向流的套接字（如TCP）不存在数据边界。这是因为 TCP 作为一个面向连接的协议，它将数据作为一个无结构的字节流来处理，而不是作为离散的消息来发送和接收。

接收数据时，对于这类套接字，需要特别注意以下几点：

实时性：由于没有数据边界，接收应用不能假设接收到的数据就是发送应用发送的全部数据，可能需要在接收缓冲区积累一定数量的数据后才能进行处理。

数据的完整性：接收方需要确保自身的接收缓冲区足够大，能够接收并处理发送方的数据，否则可能会导致数据丢失。

粘包问题：由于 TCP 是以字节流方式传输，导致数据包间的边界被破坏，更多的数据可能会被合并为一个数据包接收，这就是所谓的“粘包”问题。解决粘包问题需要应用层协议来定义数据的边界，通常的做法是在每个数据包前面加上长度字段，用以表示数据包的长度。


## 6. `tcp_server.c` 和 `tcp_client.c` 中需要多次调用 read 函数读取服务器调用 1 次 write 函数传递的字符串更改程序，使得服务器端多次调用 write 函数传输数据，客户端调用 1 次 read 函数进行读取。为了达到这个目标，客户端需要延迟调用 read 函数，因为客户端要等待服务器端传输所有数据，windows 和 Linux 都可以通过下列延迟 read 或者 recv 函数的调用

```
for(i=0; i<3000;i++)
	printf("wait time %d\n", i);
```
	
## 让 CPU 执行多余任务以延迟代码运行的方式称为 "busy waiting" ，使用得当可以推迟函数调用
